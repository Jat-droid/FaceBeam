<!DOCTYPE html>

<html lang="en">

<head>

    <meta charset="UTF-8">

    <meta name="viewport" content="width=device-width, initial-scale=1.0">

    <title>Welcome to FaceBeam</title>

    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">

    <link rel="preconnect" href="https://fonts.googleapis.com">

    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>

    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;600;700&display=swap" rel="stylesheet">

    <style>

        body, html {

            height: 100%;

            margin: 0;

            font-family: 'Poppins', sans-serif;

            color: #fff;

             background-color: #121212;

        }

        .page-container {

            display: flex;

            flex-direction: column;

            min-height: 100vh;

            text-align: center;

        }

        .page-header {

            padding: 3rem 1rem;

        }

        .main-content {

            flex-grow: 1;

            display: flex;

            flex-direction: column;

            justify-content: center;

            align-items: center;

            padding: 1rem;

        }

        .dropdown-container {

            max-width: 500px;

            width: 100%;

        }

       .gradient-text {
            /* Blue gradient for FaceBeam title */
            background-image: linear-gradient(135deg, #4B89FF, #1967D2);
            -webkit-background-clip: text;
            background-clip: text;
            color: transparent;
            font-weight: 600;
        }

        .form-select {

            background-color: rgba(255, 255, 255, 0.1);

            color: #fff;

            border-color: rgba(255, 255, 255, 0.2);

        }

        .form-select:focus {

            background-color: rgba(255, 255, 255, 0.2);

            color: #fff;

            border-color: #66a6ff;

            box-shadow: 0 0 0 0.25rem rgba(102, 166, 255, 0.5);

        }

        .form-select option {
            background-color: #1e1e1e; /* Match card background */
            color: #adb5bd;
        }
    </style>

</head>

<body>

    <div class="page-container">

        <header class="page-header">

            <h1 class="display-3 fw-bold"><span class="gradient-text">âœ¨ FaceBeam</span></h1>

            <h3 class="lead">AI-Powered Automated Attendance & Monitoring.</h3>

        </header>



        <main class="main-content">

            <div class="dropdown-container">

                <p class="mb-3">Select a student to view their detailed attendance dashboard.</p>

                <select class="form-select form-select-lg" id="student-select">

                    <option selected>Loading students...</option>

                </select>

            </div>

            <div class="mt-4">

                 <a href="/admin" class="btn btn-outline-light">Go to Admin Dashboard</a>

            </div>

            <div class="mt-4">

                 <a href="/register" class="link-light">Or register a new student</a>

                 

            </div>

        </main>

    </div>



    <script>

        

        document.addEventListener('DOMContentLoaded', async () => {

            const studentSelect = document.getElementById('student-select');

            

            try {

                const response = await fetch('/api/students');

                const students = await response.json();

                

                studentSelect.innerHTML = '<option selected disabled>Select a student...</option>';

                

                students.forEach(student => {

                    const option = document.createElement('option');

                    option.value = student;

                    option.textContent = student;

                    studentSelect.appendChild(option);

                });

            } catch (error) {

                studentSelect.innerHTML = '<option selected disabled>Could not load students.</option>';

                console.error("Failed to fetch students:", error);

            }



            studentSelect.addEventListener('change', (event) => {

                const selectedStudent = event.target.value;

                if (selectedStudent) {

                    window.location.href = `/student/${selectedStudent}`;

                }

            });

        });

    </script>

</body>

</html>